<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalized Weather Companion</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

    <div class="sidebar" id="sidebar">
        <div>
            <h2>Weather App</h2>
            <ul>
                <li onclick="scrollToSection('searchSection')">Search Weather</li>
                <li onclick="scrollToSection('favoritesSection')">Favorites</li>
                <li onclick="scrollToSection('alertsSection')">Set Alerts</li>
                <li onclick="downloadForecast()">Download Forecast</li>
            </ul>
        </div>
        <div class="sidebar-footer">
            <p>© 2025 Weather Companion</p>
        </div>
    </div>

    <button class="menu-btn" onclick="toggleSidebar()">☰</button>

    <div class="container">
        <h1>Personalized Weather Companion</h1>

        <div id="searchSection" class="search-section">
            <input type="text" id="cityInput" placeholder="Enter city (e.g., London)">
            <button onclick="getWeatherByCity()">Search</button>
            <button onclick="switchUnits()">°F / °C</button>
            <button onclick="speakWeather()">Voice</button>
            <button onclick="addFavorite()">Favorite</button>
        </div>

        <h2 id="currentCity">{{ city }}</h2>

        <div id="weatherInfo" class="weather-card"></div>

        <div id="suggestions" class="weather-card"></div>

        <div id="cityImageContainer">
            <img id="cityImage" alt="City Image">
        </div>
        <canvas id="graph" width="400" height="200"></canvas>

        <div id="favoritesSection" class="weather-card">
            <h3>Favorites:</h3>
            <ul id="favorites"></ul>
        </div>

        <div id="alertsSection" class="weather-card">
            <h3>Set Alerts:</h3>
            <div class="alert-inputs">
                <label>Max Temp:</label>
                <input type="number" id="maxTemp" placeholder="e.g. 30">
                <label>Max Rain (mm):</label>
                <input type="number" id="maxRain" placeholder="e.g. 5">
                <button onclick="setAlerts()">Save Alerts</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }

        function scrollToSection(id) {
            const section = document.getElementById(id);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
            document.getElementById('sidebar').classList.remove('active');
        }
    </script>
    <div id="customAlert" class="custom-alert hidden">
  <div class="custom-alert-content">
    <span id="alertMessage"></span>
    <button id="closeAlert">OK</button>
  </div>
</div>

</body>
</html>

